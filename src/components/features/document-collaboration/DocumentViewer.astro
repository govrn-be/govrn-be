---
import DocumentToolbar from './toolbar/DocumentToolbar.astro';
import CommentSidebar from './comments/CommentSidebar.astro';
import VersionList from './versioning/VersionList.astro';

// Sample data
const comments = [
  {
    id: '1',
    author: { name: 'John Doe', initials: 'JD' },
    content: 'Should we add more detail about the Q2 targets?',
    timestamp: '2 min ago',
    replies: [
      {
        id: '2',
        author: { name: 'Alice Smith', initials: 'AS', color: 'blue' },
        content: 'Good point, I\'ll update that section.',
        timestamp: '1 min ago'
      }
    ]
  }
];

const versions = [
  {
    id: 'v1.2',
    author: { name: 'Alice Smith', initials: 'AS' },
    timestamp: '10 min ago',
    changes: ['Updated Q2 targets', 'Added financial summary']
  },
  {
    id: 'v1.1',
    author: { name: 'John Doe', initials: 'JD' },
    timestamp: '1 hour ago',
    changes: ['Initial draft']
  }
];
---

<div class="bg-white rounded-xl shadow-2xl border border-gray-100 overflow-visible">
  <DocumentToolbar />
  
  <div class="flex">
    <!-- Main Document Area -->
    <div class="flex-grow p-8">
      <div class="max-w-3xl mx-auto">
        <div class="prose prose-lg prose-slate prose-headings:font-bold prose-h1:text-3xl prose-h2:text-2xl prose-p:leading-relaxed">
          <h1 class="text-xl mb-2">Board Meeting Minutes</h1>
          <p class="text-gray-500 text-sm mb-8">March 15, 2024</p>
          
          <h2 class="text-gray-800 mt-8">Strategic Initiatives</h2>
          <p class="text-gray-600">
            The board discussed the company's strategic initiatives for the upcoming quarter, 
            focusing on three key areas:
          </p>
          
          <ul class="space-y-2 my-4 list-disc list-inside text-gray-600">
            <li class="hover:text-gray-800 transition-colors">Market expansion into new territories</li>
            <li class="hover:text-gray-800 transition-colors">Product development roadmap</li>
            <li class="hover:text-gray-800 transition-colors">Operational efficiency improvements</li>
          </ul>

          <h2 class="text-gray-800 mt-8">Financial Performance</h2>
          <p class="text-gray-600">
            Financial performance exceeded expectations with a 
            <mark class="bg-yellow-100 px-1 rounded text-gray-800 font-medium hover:bg-yellow-200 transition-colors">20% increase in revenue</mark> 
            compared to the previous quarter.
          </p>
        </div>
      </div>
    </div>

    <!-- Comments Sidebar -->
    <CommentSidebar comments={comments} />
  </div>
</div>

<style>
  .prose {
    max-width: 65ch;
  }

  .prose mark {
    padding: 0.2em 0;
    border-radius: 0.2em;
  }
</style>