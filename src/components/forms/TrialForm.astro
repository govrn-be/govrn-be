---
import FormSuccess from "./FormSuccess.astro";

interface Props {
  reasons?: string[];
}

const {
  reasons = [
    "Evaluating Board Management Solutions",
    "Starting a New Board",
    "Switching from Another Platform",
    "Improving Board Efficiency",
    "Other",
  ],
} = Astro.props;
---

<form id="trialForm" class="space-y-6" method="POST">
  <div class="grid grid-cols-2 gap-6">
    <div>
      <label
        for="firstName"
        class="block text-sm font-medium text-gray-700 mb-2">First Name</label
      >
      <input
        type="text"
        id="firstName"
        name="firstName"
        class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
        required
      />
    </div>
    <div>
      <label for="lastName" class="block text-sm font-medium text-gray-700 mb-2"
        >Last Name</label
      >
      <input
        type="text"
        id="lastName"
        name="lastName"
        class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
        required
      />
    </div>
  </div>

  <div>
    <label for="email" class="block text-sm font-medium text-gray-700 mb-2"
      >Work Email</label
    >
    <input
      type="email"
      id="email"
      name="email"
      class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
      required
    />
  </div>

  <div>
    <label for="company" class="block text-sm font-medium text-gray-700 mb-2"
      >Company Name</label
    >
    <input
      type="text"
      id="company"
      name="company"
      class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
      required
    />
  </div>

  <div>
    <label for="reason" class="block text-sm font-medium text-gray-700 mb-2"
      >Reason for Trial</label
    >
    <select
      id="reason"
      name="reason"
      class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
      required
    >
      <option value="">Select a reason</option>
      {reasons.map((reason) => <option value={reason}>{reason}</option>)}
    </select>
  </div>

  <button
    type="submit"
    class="w-full px-6 py-4 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors duration-200 font-medium flex items-center justify-center space-x-2"
  >
    <span>Start Free Trial</span>
    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
    </svg>
  </button>

  <p class="text-sm text-gray-500 text-center">
    By signing up, you agree to our
    <a href="/terms" class="text-primary hover:text-primary/90"
      >Terms of Service</a
    >
    and
    <a href="/privacy" class="text-primary hover:text-primary/90"
      >Privacy Policy</a
    >
  </p>
</form>

<div id="formSuccess" class="hidden">
  <FormSuccess
    title="Welcome to Govrn!"
    message="Your trial account is being set up. We will send you Check your email for login instructions."
  />
</div>

<script>
  const form = document.getElementById("trialForm");
  const success = document.getElementById("formSuccess");

  form?.addEventListener("submit", async (e) => {
    e.preventDefault();
    form.classList.add("hidden");
    success?.classList.remove("hidden");
  });
   
</script>
