---
import FormSuccess from './FormSuccess.astro';

interface Props {
  reasons?: string[];
}

const { 
  reasons = [
    "Request a Demo",
    "Sales Inquiry",
    "Technical Support",
    "Partnership Opportunity",
    "Other"
  ]
} = Astro.props;
---

<form id="contactForm" class="space-y-6" method="POST">
  <div class="grid grid-cols-2 gap-6">
    <div>
      <label for="firstName" class="block text-sm font-medium text-gray-700 mb-2">First Name</label>
      <input
        type="text"
        id="firstName"
        name="firstName"
        class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
        required
      />
    </div>
    <div>
      <label for="lastName" class="block text-sm font-medium text-gray-700 mb-2">Last Name</label>
      <input
        type="text"
        id="lastName"
        name="lastName"
        class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
        required
      />
    </div>
  </div>

  <div>
    <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
    <input
      type="email"
      id="email"
      name="email"
      class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
      required
    />
  </div>

  <div>
    <label for="company" class="block text-sm font-medium text-gray-700 mb-2">Company Name</label>
    <input
      type="text"
      id="company"
      name="company"
      class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
      required
    />
  </div>

  <div>
    <label for="reason" class="block text-sm font-medium text-gray-700 mb-2">Reason for Contact</label>
    <select
      id="reason"
      name="reason"
      class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
      required
    >
      <option value="">Select a reason</option>
      {reasons.map(reason => (
        <option value={reason}>{reason}</option>
      ))}
    </select>
  </div>

  <div>
    <label for="message" class="block text-sm font-medium text-gray-700 mb-2">Message</label>
    <textarea
      id="message"
      name="message"
      rows="4"
      class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
      required
    ></textarea>
  </div>

  <button
    type="submit"
    class="w-full px-6 py-4 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors duration-200 font-medium"
  >
    Send Message
  </button>
</form>

<div id="formSuccess" class="hidden">
  <FormSuccess 
    title="Message Sent Successfully!"
    message="Thank you for contacting us. We'll get back to you shortly."
  />
</div>

<script>
  const form = document.getElementById('contactForm');
  const success = document.getElementById('formSuccess');

  form?.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    // Here you would typically send the form data to your backend
    // For demo purposes, we'll just show the success message
    form.classList.add('hidden');
    success?.classList.remove('hidden');
  });
</script>