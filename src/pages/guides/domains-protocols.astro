---
import Layout from '../../layouts/Layout.astro';
import GuideHeader from '../../components/guides/GuideHeader.astro';
import GuideStep from '../../components/guides/GuideStep.astro';
import GuideSubSection from '../../components/guides/GuideSubSection.astro';
import GuideStepList from '../../components/guides/GuideStepList.astro';
import ProTip from '../../components/guides/ProTip.astro';

const networkRequirements = [
  "Allow HTTPS traffic (port 443) for all domains",
  "Allow WSS traffic (port 443) for api.govrn.com",
  "Configure firewall rules to permit access",
  "Ensure DNS resolution for all domains",
  "Test connectivity to all required domains"
];

const troubleshootingSteps = [
  "Check your internet connection",
  "Verify firewall settings",
  "Clear browser cache and cookies",
  "Try a different browser",
  "Contact IT if issues persist"
];
---

<Layout title="Domains and Protocols Guide - Govrn">
  <main class="pt-24">
    <article class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
      <GuideHeader
        title="Understanding Govrn's Domains and Protocols"
        description="Complete guide to the domains and protocols used by Govrn, including network requirements and troubleshooting tips."
      />

      <GuideStep
        number={1}
        title="Core Domains Overview"
        description="Learn about the essential domains that power Govrn's functionality:"
      >
        <div class="space-y-6">
          <div class="bg-white rounded-lg p-6 border border-gray-200">
            <div class="flex items-start space-x-4">
              <div class="flex-shrink-0 w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center text-xl">
                üñ•Ô∏è
              </div>
              <div>
                <h4 class="font-semibold text-gray-900 mb-2">Front-end Domain</h4>
                <p class="text-gray-600 mb-2">app.govrn.com</p>
                <p class="text-sm text-gray-500">Main user interface for accessing Govrn platform</p>
              </div>
            </div>
          </div>

          <div class="bg-white rounded-lg p-6 border border-gray-200">
            <div class="flex items-start space-x-4">
              <div class="flex-shrink-0 w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center text-xl">
                üóÑÔ∏è
              </div>
              <div>
                <h4 class="font-semibold text-gray-900 mb-2">Storage Domain</h4>
                <p class="text-gray-600 mb-2">stgovrnprodfr001.blob.core.windows.net</p>
                <p class="text-sm text-gray-500">Secure storage for static files and documents</p>
              </div>
            </div>
          </div>

          <div class="bg-white rounded-lg p-6 border border-gray-200">
            <div class="flex items-start space-x-4">
              <div class="flex-shrink-0 w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center text-xl">
                üîó
              </div>
              <div>
                <h4 class="font-semibold text-gray-900 mb-2">API Domain</h4>
                <p class="text-gray-600 mb-2">prod.api.ongovrn.com</p>
                <p class="text-sm text-gray-500">Backend services and data processing</p>
              </div>
            </div>
          </div>

          <div class="bg-white rounded-lg p-6 border border-gray-200">
            <div class="flex items-start space-x-4">
              <div class="flex-shrink-0 w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center text-xl">
                üîÑ
              </div>
              <div>
                <h4 class="font-semibold text-gray-900 mb-2">WebSocket Domain</h4>
                <p class="text-gray-600 mb-2">api.govrn.com</p>
                <p class="text-sm text-gray-500">Real-time updates and notifications</p>
              </div>
            </div>
          </div>

          <div class="bg-white rounded-lg p-6 border border-gray-200">
            <div class="flex items-start space-x-4">
              <div class="flex-shrink-0 w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center text-xl">
                üìù
              </div>
              <div>
                <h4 class="font-semibold text-gray-900 mb-2">Signature Domain</h4>
                <p class="text-gray-600 mb-2">apps.universign.com</p>
                <p class="text-sm text-gray-500">E-signature services integration</p>
              </div>
            </div>
          </div>
        </div>

        <ProTip
          tip="Save these domains to your IT team's allowlist to ensure uninterrupted access to Govrn."
        />
      </GuideStep>

      <GuideStep
        number={2}
        title="Network Requirements"
        description="Ensure your network is properly configured to use Govrn:"
      >
        <div class="mb-8">
          <GuideStepList items={networkRequirements} />
        </div>

        <GuideSubSection title="Protocol Details">
          <div class="grid md:grid-cols-2 gap-4">
            <div class="bg-white rounded-lg p-4 border border-gray-200">
              <h4 class="font-semibold text-gray-900 mb-2">HTTPS (Port 443)</h4>
              <ul class="text-sm text-gray-600 space-y-1">
                <li>‚Ä¢ Secure web traffic</li>
                <li>‚Ä¢ Encrypted data transfer</li>
                <li>‚Ä¢ Required for all domains</li>
              </ul>
            </div>
            <div class="bg-white rounded-lg p-4 border border-gray-200">
              <h4 class="font-semibold text-gray-900 mb-2">WSS (Port 443)</h4>
              <ul class="text-sm text-gray-600 space-y-1">
                <li>‚Ä¢ Real-time communication</li>
                <li>‚Ä¢ Live updates</li>
                <li>‚Ä¢ Required for api.govrn.com</li>
              </ul>
            </div>
          </div>
        </GuideSubSection>
      </GuideStep>

      <GuideStep
        number={3}
        title="Troubleshooting Connection Issues"
        description="If you experience connection problems, follow these steps:"
      >
        <div class="mb-8">
          <GuideStepList items={troubleshootingSteps} />
        </div>

        <ProTip
          tip="Use your browser's developer tools (F12) to check for any blocked requests or connection errors."
        />

        <GuideSubSection title="Common Issues">
          <div class="space-y-4">
            <div class="bg-white rounded-lg p-4 border border-gray-200">
              <h4 class="font-semibold text-gray-900 mb-2">Connection Timeout</h4>
              <p class="text-sm text-gray-600">Usually indicates a firewall issue or network restriction. Contact your IT team to verify domain access.</p>
            </div>
            <div class="bg-white rounded-lg p-4 border border-gray-200">
              <h4 class="font-semibold text-gray-900 mb-2">WebSocket Error</h4>
              <p class="text-sm text-gray-600">Check if your network allows WebSocket connections. Some corporate networks may block them.</p>
            </div>
            <div class="bg-white rounded-lg p-4 border border-gray-200">
              <h4 class="font-semibold text-gray-900 mb-2">SSL Certificate Error</h4>
              <p class="text-sm text-gray-600">Ensure your system's date and time are correct, and your browser is up to date.</p>
            </div>
          </div>
        </GuideSubSection>
      </GuideStep>

      <!-- Quick Reference -->
      <div class="mt-16 bg-gradient-to-br from-primary/5 to-blue-500/5 rounded-xl p-8 border border-primary/10">
        <h2 class="text-2xl font-bold text-gray-900 mb-4">Quick Reference</h2>
        <div class="grid md:grid-cols-2 gap-6">
          <div>
            <h3 class="font-semibold text-gray-900 mb-2">Required Domains</h3>
            <ul class="space-y-2 text-gray-600 text-sm">
              <li>‚Ä¢ app.govrn.com</li>
              <li>‚Ä¢ stgovrnprodfr001.blob.core.windows.net</li>
              <li>‚Ä¢ prod.api.ongovrn.com</li>
              <li>‚Ä¢ api.govrn.com</li>
              <li>‚Ä¢ apps.universign.com</li>
            </ul>
          </div>
          <div>
            <h3 class="font-semibold text-gray-900 mb-2">Required Ports</h3>
            <ul class="space-y-2 text-gray-600 text-sm">
              <li>‚Ä¢ HTTPS: 443 (TCP)</li>
              <li>‚Ä¢ WSS: 443 (TCP)</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Help Section -->
      <div class="mt-8 bg-white rounded-xl p-8 shadow-sm border border-gray-200">
        <h2 class="text-2xl font-bold text-gray-900 mb-4">Need Help?</h2>
        <p class="text-gray-600 mb-6">
          Having trouble connecting to Govrn? Our technical support team is here to help.
        </p>
        <div class="flex space-x-4">
          <a
            href="/contact"
            class="inline-flex items-center px-6 py-3 text-base font-medium rounded-lg text-white bg-primary hover:bg-primary/90 transition-colors"
          >
            Contact Support
          </a>
          <a
            href="/guides"
            class="inline-flex items-center px-6 py-3 text-base font-medium rounded-lg text-gray-900 bg-white border border-gray-200 hover:bg-gray-50 transition-colors"
          >
            View All Guides
          </a>
        </div>
      </div>
    </article>
  </main>
</Layout>